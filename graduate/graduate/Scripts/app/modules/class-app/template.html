<div class="crumbsBar-fixed"><a href="#">班级管理</a><a href="#">班级列表</a></div>
<!--} 顶部导航与logo end -->
<!-- 工具栏 begin {-->
<div class="toolBar">
    <div class="list-tabs"  ng-init="chooseIndex = 0">
        <a href="#" class="list-tab-item "ng-click="chooseClass(0)" ng-class="{current:chooseIndex == 0}">全部</a>
        <a href="#" class="list-tab-item" ng-click="chooseClass(2)" ng-class="{current:chooseIndex == 2}">运行中班级</a><!-- current 为选中状态-->
        <a href="#" class="list-tab-item" ng-click="chooseClass(1)" ng-class="{current:chooseIndex == 1}">已结班班级</a>
    </div>
    <div class="clearFix">
        <div class="list-btnBox fl">
            <button type="button" class="normal-btn next" ng-show ="permission.add" ng-click="addClass()">新增班级</button>
            <button type="button" class="normal-btn next" ng-show ="permission.uploadImport"  ng-click="showUpload = true">批量导入</button>
        </div>
        <div class="list-searchBox fr">
            <!--搜索框 列表页用长搜索框，增加样式 long； 弹框页用短搜索框，增加样式 short {-->
            <div class="search-box">
                <input class="search-text long" placeholder="请输入班级编号或名称搜索" type="text" ng-model="searchKey" ng-keyup="onSearchKeyPress($event)">
                <button type="submit" class="search-submit" title="班级编号或名称" ng-click="searchClassList()"></button>
            </div>
            <!--} 搜索框-->
        </div>
    </div>
</div>
<!--} 工具栏 end -->
<!-- 列表 { -->
<div class="ListDateTable">
    <!-- 列表有数据-->
    <table border="0" cellpadding="0" cellspacing="0">
        <tbody>
            <tr>
                <th>班级编号</th>
                <th>班级名称</th>
                <th>课程名称</th>
                <th>学员数</th>
                <th ng-click="changeOrder(0)"><div class="list-sort" >开班时间<em class="icon-sort-normal icon-sort-js" ></em></div></th>

                <th ng-click="changeOrder(1)"><div class="list-sort" >结班时间<em class="icon-sort-normal icon-sort-js" ></em></div></th>   <!--icon-sort-up表示升序-->
                <th>校区</th>
                <th>操作</th>
            </tr>
            <tr ng-if="classList.list.length == 0">
                <td colspan="8">
                    <div class="ListDateNoResult">无数据</div>
                </td>
            </tr>
            <tr class="ListDate" ng-repeat="item in classList.list" ng-click="getClassDetails(item.classId,item.isOverClass == 1)" ng-show="classList.list.length != 0">
                <td ><div style="max-width:150px;" gint-title="{{item.classSerial}}" class="t_overflow">{{item.classSerial}}</div></td>
                <td ><div style="max-width:150px;" gint-title="{{item.className}}" class="t_overflow">{{item.className}}</div></td>
                <td ><div style="max-width:150px;" gint-title="{{item.courseName}}" class="t_overflow">{{item.courseName}}</div></td>
                <td gint-title="{{item.staffNumber}}">{{item.staffNumber}}</td>
                <td gint-title="{{item.openTime | formatJsonDate3:'yyyy-MM-dd'}}">{{item.openTime | formatJsonDate3:'yyyy-MM-dd'}}</td>
                <td gint-title="{{item.closeTime| formatJsonDate3:'yyyy-MM-dd'}}">{{item.closeTime| formatJsonDate3:'yyyy-MM-dd'}}</td>
                <td><div class="t_overflow" style="width:150px;" gint-title="{{item.schoolNames}}">{{item.schoolNames}}</div></td>
                <td>
                    <button  class="listDate-link" ng-click="editClass(item.classId)" ng-show ="permission.edit">编辑</button>
                    <button  class="listDate-link" ng-show ="permission.closeClass" ng-click="closeClass(item.classId)" ng-disabled="item.isOverClass == 1" ng-class="{'disabled':item.isOverClass == 1}">结班</button>
                </td>
            </tr>
        </tbody>
    </table>
    <!--} 列表有数据 -->

</div>
<!--} 列表 -->
<!-- 页码 {-->
<div paging page="listPage.pageIndex" page-size="pageSize" total="classListTotal" hide-if-empty="true" paging-action="listPageAction(page)" class="ng-isolate-scope">
</div>
<!--新增班级 弹框开始-->
<add-class show-class-popup ="showClassPopup" relate ="relate" type="type" add-edit-info="addEditInfo" show-drop-ul ="showDropUl" campus="campus" add-edit-class="addEditClass()"></add-class>
<!--新增班级 弹窗结束-->

<!--班级详情 弹框开始-->
<class-detail ></class-detail>
<!--班级详情 弹框结束-->

<upload-eas show-upload="showUpload" excel-url="excelUrl" upload-type="uploadType" callback="callback()"></upload-eas>

